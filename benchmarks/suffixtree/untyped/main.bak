#lang racket/base

(require (only-in racket/file file->lines file->string))
(require racket/contract)
(require "lcs.rkt")

(define LARGE_TEST "../base/prufock.txt")
(define SMALL_TEST "../base/hunt.txt")
(define KCFA_TYPED "../base/kcfa-typed.rkt")

;; LCS on all pairs of lines in a file

(define (file? file)
  (define (real-file? f)
    (file-exists? f))
  real-file?)

(define/contract (main testfile)
  (->i ([testfile file?])
       [result (testfile)
               void?])
  (-> string? void?)
  
  (define lines
    (file->lines testfile))   

  (println lines)
  
  (time
   (for* ([a lines] [b lines])
     (longest-common-substring a b))
  (void)))


               

(main SMALL_TEST)
